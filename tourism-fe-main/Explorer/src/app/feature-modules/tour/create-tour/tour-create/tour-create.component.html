<div class="form-container">
  <h2>Kreiraj novu turu</h2>

  <form [formGroup]="tourForm" (ngSubmit)="onSubmit()" novalidate>
    <div class="form-group">
      <label for="name">Naziv ture</label>
      <input type="text" id="name" formControlName="name" class="form-control" placeholder="npr. Avantura na Tari">
      <div *ngIf="tourForm.get('name')?.invalid && (tourForm.get('name')?.dirty || tourForm.get('name')?.touched)" class="alert-danger">
        <div *ngIf="tourForm.get('name')?.hasError('required')">Naziv je obavezan.</div>
        <div *ngIf="tourForm.get('name')?.hasError('minlength')">Naziv mora imati bar 5 karaktera.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="description">Opis</label>
      <textarea id="description" formControlName="description" class="form-control" rows="4"></textarea>
      <div *ngIf="tourForm.get('description')?.invalid && (tourForm.get('description')?.dirty || tourForm.get('description')?.touched)" class="alert-danger">
        <div *ngIf="tourForm.get('description')?.hasError('required')">Opis je obavezan.</div>
        <div *ngIf="tourForm.get('description')?.hasError('minlength')">Opis mora imati bar 20 karaktera.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="difficulty">Težina ture</label>
      <select id="difficulty" formControlName="difficulty" class="form-control">
        <option value="Easy">Lako</option>
        <option value="Medium">Srednje</option>
        <option value="Hard">Teško</option>
        <option value="Expert">Ekspert</option>
      </select>
      <div *ngIf="tourForm.get('difficulty')?.invalid && tourForm.get('difficulty')?.touched" class="alert-danger">
        <div *ngIf="tourForm.get('difficulty')?.hasError('required')">Težina je obavezna.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="tags">Tagovi (odvojeni zarezom)</label>
      <input type="text" id="tags" formControlName="tags" class="form-control" placeholder="npr. planinarenje, reka, priroda">
      <div *ngIf="tourForm.get('tags')?.invalid && (tourForm.get('tags')?.dirty || tourForm.get('tags')?.touched)" class="alert-danger">
        <div *ngIf="tourForm.get('tags')?.hasError('required')">Tagovi su obavezni.</div>
      </div>
    </div>

    <div *ngIf="successMessage" class="alert alert-success">{{ successMessage }}</div>
    <div *ngIf="errorMessage" class="alert alert-danger-submit">{{ errorMessage }}</div>

    <button type="submit" class="btn-submit" [disabled]="tourForm.invalid || isSubmitting">
      <span *ngIf="!isSubmitting">Kreiraj Turu</span>
      <span *ngIf="isSubmitting">Slanje...</span>
    </button>
  </form>
</div>